<!DOCTYPE html>
<html lang="zh-TW">
    <head>
        <meta charset="UTF-8">
        <title>æ¸¬è©¦ç”¨-è˜­é™½é€±é è³¼è¡¨å–®</title>
        <link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/normalize/8.0.1/normalize.min.css">

        <!--jquery-->
        <script src="https://code.jquery.com/jquery-3.4.1.min.js"></script>

        <!--å¸¶æœå°‹æ¬„é¸å–®æ’ä»¶-->
        <script src="https://cdnjs.cloudflare.com/ajax/libs/chosen/1.8.7/chosen.jquery.min.js"></script>

        <!--è¡¨å–®é©—è­‰æ’ä»¶-->
        <script src="https://validatejs.org/validate.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/underscore.js/1.8.3/underscore-min.js"></script>

        <!--æ™‚é–“è™•ç†æ’ä»¶-->
        <script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.10.6/moment.min.js"></script>

        <script>
            /*
             * create the the drop-down list
             */
            $(function() {
                //define the func load chosen.jquery
                function selectLoad() {
                    $('.chosen-select').chosen({
                        search_contains: true,
                        width: '100%'
                    });
                }

                //load the drop-down list
                $.get("https://spreadsheets.google.com/feeds/list/13Sd4GBenMwijWjADGO_loLWk8sXf5_BACam5mGzd878/1/public/values?alt=json", function(data) {
                    var d = data.feed.entry;
                    var deps = [];
                    for (var i in d) {
                        var dep = {};
                        dep.index = d[i].gsx$index.$t;
                        dep.department = d[i].gsx$department.$t;
                        dep.disabled = d[i].gsx$disabled.$t;
                        deps.push(dep);
                    }
                    //console.table(deps);
                    var depFragment = document.createDocumentFragment();
                    for (var j = 0; j < deps.length; j++) {
                        var depOpt = document.createElement("option");
                        depOpt.value = deps[j].index.concat("-").concat(deps[j].department);
                        depOpt.textContent = deps[j].department.concat(" (").concat(deps[j].index).concat(")");
                        depOpt.disabled = deps[j].disabled;
                        depFragment.appendChild(depOpt);
                    }
                    document.getElementById("department").appendChild(depFragment);
                    //load chosen.jquery when the drop-down list were done
                    selectLoad();

                });
            });


            //create submit button, product list, items set and define the submit action
            $(function() {
                /*
                 * create submit button
                 */
                var submit = document.createElement("button");
                submit.type = "submit";
                submit.id = "submit";
                submit.textContent = "é€å‡º".concat("!!æ¸¬è©¦ä¸­-ä¹‹å¾Œç§»åˆ°æœ€ä¸‹é¢!!");
                submit.value = submit.textContent;

                //create product list and items set
                $.get("https://spreadsheets.google.com/feeds/list/115PPsgx0--jvrpV-JIekfH5IR-JbKCNuCDXbYODslVk/1/public/values?alt=json", function(data) {
                    var d = data.feed.entry;
                    var items = [];
                    for (var i in d) {
                        var item = {};
                        item.merchant = d[i].gsx$merchant.$t;
                        item.product = d[i].gsx$product.$t;
                        item.price = d[i].gsx$price.$t;
                        item.link = d[i].gsx$link.$t;
                        item.pic = d[i].gsx$pic.$t;
                        items.push(item);
                    }
                    //console.table(items);

                    //add the element
                    document.getElementById("form").appendChild(submit);
                    addSection(items);

                    $("input").keydown(function(ev) {
                        if (ev.which == 13) {
                            ev.preventDefault();
                        }
                    });

                    /*
                    * validate.js
                    * è¡¨å–®é©—è­‰å€
                    */

                    // These are the constraints used to validate the form
                    // æœªä½¿ç”¨æˆ–ä¸æ¬²é©—è­‰ä¹‹æ¬„ä½è«‹å‹™å¿…å¾ä¸‹åˆ—é …ç›®ä¸­è¨»è§£åŒ–æˆ–ç§»é™¤
                    var constraints = {
                        name: {
                            presence: {
                                message: "ä¸èƒ½ç•™ç©ºï¼\né›£é“ä½ æ˜¯ç„¡åæ°é€†ï¼Ÿ",
                            },
                            format: {
                                pattern: "^([0-9A-Za-z ,]|[\u4E00-\u9FFFï¼]|[^\x00-\xFF]])+$",
                                message: "çš„è¼¸å…¥æ ¼å¼ç„¡æ•ˆï¼\nä½ çš„åå­—æ²’é€™éº¼å¥‡æ€ªå§ï¼Ÿï¼ˆå¦‚æœé€™ç¢ºå¯¦æ˜¯ä½ çš„çœŸåï¼Œè«‹ç«‹åˆ»å’Œæˆ‘å€‘è¯çµ¡ï¼‰",
                            }
                        },
                        studentID: {
                            presence: {
                                message: "ä¸èƒ½ç•™ç©ºï¼",
                            },
                            format: {
                                pattern: "(^10[0-8][0-9]{6}$|^999999999$)",
                                message: "çš„è¼¸å…¥æ ¼å¼ç„¡æ•ˆï¼\nï¼ˆå˜—è©¦å¡«å¯«æ­¤æ¬„å»å¤±æ•—è€…ï¼Œè«‹è¼¸å…¥9å€‹9ä¸¦ç«‹åˆ»å’Œæˆ‘å€‘è¯çµ¡ï¼Œè¨‚å–®æ–¹æœƒæˆç«‹ï¼‰",
                            }
                        },
                        department: {
                            presence: {
                                message: "ä¸èƒ½ç•™ç©ºï¼\nï¼ˆç„¡é©ç•¶é¸é …å¯é¸è€…ï¼Œè«‹é¸æ“‡XXXä¸¦ç«‹åˆ»å’Œæˆ‘å€‘è¯çµ¡ï¼Œè¨‚å–®æ–¹æœƒæˆç«‹ï¼‰",
                            },
                        },
                        grade: {
                            presence: {
                                message: "ä¸èƒ½ç•™ç©ºï¼\nï¼ˆç„¡é©ç•¶é¸é …å¯é¸è€…ï¼Œè«‹ç«‹åˆ»å’Œæˆ‘å€‘è¯çµ¡ï¼‰",
                            },
                        },
                        phoneNumber: {
                            presence: {
                                message: "ä¸èƒ½ç•™ç©ºï¼\næˆ‘å€‘éœ€è¦å’Œä½ è¯çµ¡åŠç¢ºèªè¨‚å–®ï¼",
                            },
                            format: {
                                pattern: "^09[0-9]{8}$",
                                message: "æ¬„ä½è«‹è¼¸å…¥è‡ºç£çš„æ‰‹æ©Ÿé–€è™Ÿï¼Œç„¡éœ€åŠ å…¥ç¬¦è™Ÿ",
                            }
                        },
                        email: {
                            presence: {
                                message: "ä¸èƒ½ç•™ç©ºï¼\næˆ‘å€‘éœ€è¦å’Œä½ è¯çµ¡åŠç¢ºèªè¨‚å–®ï¼",
                            },
                            email: {
                                message: "çš„è¼¸å…¥æ ¼å¼ç„¡æ•ˆï¼",
                            },
                        },
                        date: {
                            presence: {
                                message: "ä¸èƒ½ç•™ç©ºï¼é›£é“ä½ ä¸ä¾†å–è²¨å—ï¼Ÿ",
                            },
                        },
                    };

                    for (var i = 0; i < items.length; i++) {
                        productName = items[i].merchant.concat("-").concat(items[i].product);
                        constraints[productName] = {
                            presence: {
                                message: "çš„æ•¸é‡ä¸èƒ½ç•™ç©ºï¼",
                            },
                            numericality: {
                                onlyInteger: true,
                                greaterThanOrEqualTo: 0,
                                message: "çš„è¨‚è³¼æ•¸é‡\nåªèƒ½æ˜¯å¤§æ–¼0çš„æ•´æ•¸ï¼",
                            }
                        }
                    }


                    (function() {
                        // Hook up the form so we can prevent it from being posted
                        var formIdName = "#form";
                        var form = document.querySelector(formIdName);

                        form.addEventListener("submit", function(ev) {
                            ev.preventDefault();
                            handleFormSubmit(form);
                        });

                        // Hook up the inputs to validate on the fly
                        var inputs = document.querySelectorAll("input, textarea, select, .chosen-select")
                        for (var i = 0; i < inputs.length; ++i) {
                            inputs.item(i).addEventListener("change", function(ev) {
                                var errors = validate(form, constraints) || {};
                                showIsErrorsForInput(this, errors[this.name])
                            });
                            inputs.item(i).addEventListener("input", function(ev) {
                                var errors = validate(form, constraints) || {};
                                showIsErrorsForInput(this, errors[this.name])
                            });
                            inputs.item(i).addEventListener("blur", function(ev) {
                                var errors = validate(form, constraints) || {};
                                showIsErrorsForInput(this, errors[this.name])
                            });
                            inputs.item(i).addEventListener("click", function(ev) {
                                var errors = validate(form, constraints) || {};
                                showIsErrorsForInput(this, errors[this.name])
                            });
                            $(".chosen-select").change(function(ev) {
                                var errors = validate(form, constraints) || {};
                                showIsErrorsForInput(this, errors[this.name])
                            });
                        }

                        function handleFormSubmit(form, input) {
                            // validate the form against the constraints
                            var errors = validate(form, constraints);
                            // then we update the form to reflect the results
                            showIsErrors(form, errors || {});
                            
                            var successMessage = "è¡¨å–®å·²å®Œæˆã€‚";
                            var errorMessage = "è¡¨å–®å…§å®¹æœ‰èª¤ï¼Œè«‹æª¢è¦–éŒ¯èª¤è¨Šæ¯å¾Œé‡æ–°è¼¸å…¥ï¼";

                            if (!errors) {
                                doSuccess(successMessage);
                            } else {
                                doError(errorMessage);
                            }
                        }

                        // Updates the inputs with the validation errors
                        function showIsErrors(form, errors) {
                            // We loop through all the inputs and show the errors for that input
                            _.each(form.querySelectorAll("input[name], select[name]"), function(input) {
                                // Since the errors can be null if no errors were found we need to handle
                                // that
                                showIsErrorsForInput(input, errors && errors[input.name]);
                            });
                        }

                        // Shows the errors for a specific input
                        function showIsErrorsForInput(input, errors) {

                            var messagesClassName = ".messages";

                            // This is the root of the input
                            if (input.parentNode.className == "order") {
                                var formGroup = input.parentNode.parentNode;
                            } else if (input.parentNode.className == "radio") {
                                var formGroup = input.parentNode.parentNode;
                            } else {
                                var formGroup = input.parentNode;
                            }
                            
                            var messages = formGroup.querySelector(messagesClassName);
                            // First we remove any old messages and resets the classes
                            resetFormGroup(formGroup);
                            // If we have errors
                            if (errors) {
                                // we first mark the group has having errors
                                formGroup.classList.add("has-error");
                                // then we append all the errors
                                _.each(errors, function(error) {
                                    addError(messages, error);
                                });
                            } else {
                                // otherwise we simply mark it as success
                                if (formGroup != form) {
                                    formGroup.classList.add("has-success");
                                }
                            }

                            
                        }

                        // Recusively finds the closest parent that has the specified class
                        function closestParent(child, className) {
                            if (!child || child == document) {
                                return null;
                            }
                            if (child.classList.contains(className)) {
                                return child;
                            } else {
                                return closestParent(child.parentNode, className);
                            }
                        }

                        function resetFormGroup(formGroup) {
                            // Remove the success and error classes
                            formGroup.classList.remove("has-error");
                            formGroup.classList.remove("has-success");
                            // and remove any old messages
                            _.each(formGroup.querySelectorAll(".help-block.error"), function(el) {
                                el.parentNode.removeChild(el);
                            });
                        }

                        // Adds the specified error with the following markup
                        // <p class="help-block error">[message]</p>
                        function addError(messages, error) {
                            var block = document.createElement("p");
                            block.classList.add("help-block");
                            block.classList.add("error");
                            block.innerText = error;
                            messages.appendChild(block);
                        }

                        function doError(message) {
                            //è¡¨å–®é©—è­‰å¤±æ•—
                            alert(message);
                        }

                        function doSuccess(message) {
                            //è¡¨å–®é©—è­‰æˆåŠŸ
                            /*
                            * contents of submitting
                            */
                            //define infos
                            if (!confirm("ç¢ºå®šè¦çµå¸³ï¼Ÿ")) {
                                return;
                            }
                            var name = $('[name="name"]').val() || 'æœªå¡«å¯«';
                            var studentID = $('[name="studentID"]').val() || 'æœªå¡«å¯«';
                            var department = $('[name="department"]').val() || 'æœªå¡«å¯«';
                            var grade = $('[name="grade"]').val() || 'æœªå¡«å¯«';
                            var phoneNumber = $('[name="phoneNumber"]').val() || 'æœªå¡«å¯«';
                            var email = $('[name="email"]').val() || 'æœªå¡«å¯«';
                            var time = function() {
                                var selected;
                                $('[name="date"]').each(function() {
                                    if ($(this).prop('checked') === true)
                                        selected = $(this).val();
                                });
                                if (!selected) {
                                    selected = 'æœªå¡«å¯«';
                                }
                                return selected;
                            };

                            //init output
                            var output = "";

                            //init the json construction
                            var jsonObj = [];
                            var orderDict = {};

                            var total = 0;
                            for (var i = 0; i < items.length; i++) {
                                //getID
                                productName = items[i].merchant.concat("-").concat(items[i].product);
                                selQuantity = '#quantity-'.concat(productName);
                                selValue = '#value-'.concat(productName);
                                var p = $(selValue).val();
                                var q = $(selQuantity).val();

                                //calculate the subtotal and total
                                var subtotal = p * q;
                                total += subtotal;

                                //add the bought product into the output
                                if (q > 0 || q < 0) {
                                    output += "ã€Œ" + productName + " ($" + p + ")ã€è³¼è²·" + q + "ä»¶ï¼Œå°è¨ˆ" + subtotal + "å…ƒ\n";
                                }

                                //put the product name to the dict in json
                                orderDict[productName] = q;
                            }


                            /*
                            * é©—è­‰ç¸½é‡‘é¡æ˜¯å¦ç‚º0
                            */
                            if (total <= 0) {
                                doError("ä½ ä¼¼ä¹æ²’è³¼è²·ä»»ä½•å•†å“ï¼");
                                return;
                            }

                            //show alert
                            output += "ç¸½è¨ˆ" + total + "å…ƒ\n";
                            alert('ã€çµå¸³ã€‘\n' + output);
                            if (!confirm("æŒ‰ä¸‹ç¢ºå®šé€å‡ºè¨‚å–®")) {
                                return;
                            }

                            //client data
                            var now = moment(moment().valueOf()).format('YYYY-MM-DD HH:mm:ss');
                            var href = window.location.href;

                            //create the json string
                            var dict = {
                                "timestamp": now,
                                "name": name,
                                "studentID": studentID,
                                "department": department,
                                "grade": grade,
                                "phoneNumber": phoneNumber,
                                "email": email,
                                "time": time(),
                                "total": total,
                                "quantity": orderDict,
                                "href": href,
                            };
                            jsonObj.push(dict);
                            var myJSON = JSON.stringify(jsonObj);

                            /*
                            do ajax for submitting
                            */
                            $.ajax({
                                type: "post",
                                data: {
                                    "method": "write",
                                    "timestamp": now,
                                    "name": name,
                                    "studentID": studentID,
                                    "department": department,
                                    "grade": grade,
                                    "phoneNumber": phoneNumber,
                                    "email": email,
                                    "time": time(),
                                    "total": total,
                                    "href": href,
                                    "jsonRaw": myJSON,
                                },
                                url: "https://script.google.com/macros/s/AKfycbw-DnUUzyCPoS8F6QKOz12o9S8_pwamMN0cpWjxPE38f3wyWRAj/exec",
                                // å¡«å…¥ç¶²è·¯æ‡‰ç”¨ç¨‹å¼ç¶²å€
                                success: function(e) {
                                    alert(e);
                                }
                            });
                            /*
                            ajax end
                            */
                            /*
                            * contents of submitting
                            */
                            alert("è¨‚å–®å·²é€å‡ºï¼");
                        }
                    }
                    )();
                    //æœ€å¾Œçš„æ‹¬è™Ÿæ˜¯å¿…è¦ä¸”ä¸å¯åˆªé™¤çš„
                    /*
                    * validate.js end
                    * è¡¨å–®é©—è­‰å€çµæŸ
                    */
                });
                //create product list and items set - END
            });
            
            //when the count input was clicked
            function clicked(item) {
                var parentElement = item.parentElement.getAttribute("id");
                var count = document.getElementById(parentElement).childNodes[1];
                var dec = document.getElementById(parentElement).childNodes[1 - 1];
                var inc = document.getElementById(parentElement).childNodes[1 + 1];
                var remove = document.getElementById(parentElement).childNodes[1 + 2];
                //onclick
                inc.onclick = function() {
                    count.value = parseInt(count.value) + 1;
                }
                ;
                dec.onclick = function() {
                    if (parseInt(count.value) >= 1) {
                        count.value = parseInt(count.value) - 1;
                    }
                }
                ;
                remove.onclick = function() {
                    count.value = 0;
                }
                ;
            }
            //product list
            function addProducts(index, inputMerchant, inputProduct, inputPrice, inputLink, inputPic) {
                var container = document.createElement("div");
                container.className = "container";
                container.id = "container-".concat(inputMerchant).concat("-").concat(inputProduct);
                var pic = document.createElement("div");
                pic.className = "pic";
                var img = document.createElement("img");
                img.className = "img";
                img.src = inputPic;
                var goods = document.createElement("div");
                goods.className = "goods";
                var link = document.createElement("a");
                link.href = inputLink;
                if (inputLink != "#") {
                    link.target = "_blank";
                }
                link.textContent = inputProduct;
                var price = document.createElement("div");
                price.className = "price";
                price.textContent = "$".concat(inputPrice);
                var order = document.createElement("div");
                order.className = "order";
                order.id = "order-".concat(inputMerchant).concat("-").concat(inputProduct);
                var dec = document.createElement("button");
                dec.className = "dec";
                dec.type = "button";
                dec.textContent = "ï¼"
                var inc = document.createElement("button");
                inc.className = "inc";
                inc.type = "button";
                inc.textContent = "ï¼‹"
                var remove = document.createElement("button");
                remove.className = "remove";
                remove.type = "button";
                //remove.textContent = ;
                var count = document.createElement("input");
                count.className = "count";
                count.type = "text";
                count.size = "1";
                count.value = "0";
                count.id = "quantity-".concat(inputMerchant).concat("-").concat(inputProduct);
                var priceValue = document.createElement("input");
                priceValue.type = "hidden";
                priceValue.value = parseInt(inputPrice)
                priceValue.id = "value-".concat(inputMerchant).concat("-").concat(inputProduct);
                dec.id = "dec";
                inc.id = "inc";
                count.name = inputMerchant.concat("-").concat(inputProduct);
                priceValue.name = "priceValue";
                dec.setAttribute("onclick", "clicked(this);");
                inc.setAttribute("onclick", "clicked(this);");
                remove.setAttribute("onclick", "clicked(this);");

                var messages = document.createElement("div");
                messages.className = "messages";

                //put thing
                order.appendChild(dec);
                order.appendChild(count);
                order.appendChild(inc);
                order.appendChild(remove);
                order.appendChild(priceValue);
                pic.appendChild(img);
                goods.appendChild(link);
                container.appendChild(pic);
                container.appendChild(goods);
                container.appendChild(price);
                container.appendChild(order);
                container.appendChild(messages);
                //document.getElementById("form").appendChild(container);
                return container;
            }
            //Section of Merchant of product list
            function addSection(items) {
                var sectionFragment = document.createDocumentFragment();
                var fragment = document.createDocumentFragment();
                var section = document.createElement("section");
                for (var i = 0; i < items.length; i++) {
                    var product = addProducts(i, items[i].merchant, items[i].product, items[i].price, items[i].link, items[i].pic);
                    sectionFragment.appendChild(product);
                    if (i == items.length - 1) {
                        section.id = "section-".concat(items[i].merchant);
                        var pTitle = document.createElement("p");
                        pTitle.className = "title";
                        pTitle.textContent = items[i].merchant;
                        section.appendChild(pTitle);
                        section.appendChild(sectionFragment);
                        fragment.appendChild(section);
                        var sectionFragment = document.createDocumentFragment();
                        var section = document.createElement("section");
                        break;
                    }
                    if ((items[i].merchant != items[i + 1].merchant) && (i < items.length - 1)) {
                        section.id = "section-".concat(items[i].merchant);
                        var pTitle = document.createElement("p");
                        pTitle.className = "title";
                        pTitle.textContent = items[i].merchant;
                        section.appendChild(pTitle);
                        section.appendChild(sectionFragment);
                        fragment.appendChild(section);
                        var sectionFragment = document.createDocumentFragment();
                        var section = document.createElement("section");
                    }
                }
                document.getElementById("form").appendChild(fragment);
            }
        </script>

        <style>
            * {
                box-sizing: border-box;
            }

            body {
                background-color: #EEE;
                margin: 2em;
            }

            p {
                margin-block-start: 0;
                margin-block-end: 0;
                margin-inline-start: 0;
                margin-inline-end: 0;
            }

            section {
                display: flex;
                flex-wrap: wrap;
                width: 100%;
                flex-direction: row;
                justify-content: center;
                align-items: center;
            }

            .radio>label {
                font-size: 2em;
            }

            img {
                width: 100%;
                height: 100%;
            }

            a {
                text-decoration: none;
                font-size: 0.9em;
            }

            input {
                -webkit-box-sizing: border-box;
                -moz-box-sizing: border-box;
                display: flex;
                justify-content: center;
                align-items: center;
                flex-direction: row;
            }

            input[type="button"] {
                border: 1px #999 solid;
                line-height: 100%;
            }

            input[type="radio"] {
                display: inline;
                height: 2em;
                width: 2em;
            }

            button {
                border: 1px #999 solid;
                line-height: 100%;
                text-align: center;
            }

            .grid {
                display: grid;
                grid-template-columns: 1fr;
                grid-row-gap: 0.5em;
            }

            .row {
                display: grid;
                grid-template-rows: 3em;
                grid-template-columns: repeat(6, 1fr);
                align-items: center;
            }

            label {
                text-align: right;
                margin-right: 10px;
            }

            .infoIn {
                text-align: left;
                border: 1px #999 solid;
                padding: 0.5em;
                font-size: 1.2em;
                border-radius: 0.2em;
                grid-column: 2 / 5;
            }

            .radio {
                grid-column: 2 / 7;
                align-items: center;
            }

            .title {
                width: 100%;
                padding: 10px;
                border-top: 1px #999 solid;
                border-bottom: 1px #999 solid;
                font-size: 2em;
                margin-top: 0.8em;
                margin-bottom: 0.5em;
            }

            .dec {
                border-radius: 1em 0 0 1em;
                font-size: 1.5em;
                width: 40px;
                font-size: 0.8em;
            }

            .inc {
                border-radius: 0 1em 1em 0;
                font-size: 1.5em;
                width: 40px;
                font-size: 0.8em;
            }

            .remove {
                margin-left: 5px;
                padding-left: -5px;
                border-radius: 0.2em;
                width: 30px;
                text-align: center;
                font-size: 0.8em;
            }

            .remove::before {
                content: "ğŸ—‘ï¸";
            }

            .count {
                height: 100%;
                border: 1px #999 solid;
                font-size: 1.2em;
                text-align: center;
            }

            .order {
                height: 2em;
                display: flex;
                margin: 10px;
            }

            .container {
                display: flex;
                justify-content: center;
                align-items: flex-end;
                width: 14em;
                flex-wrap: wrap;
                margin-bottom: 20px;
                border-left: 1px #999 solid;
                border-right: 1px #999 solid;
            }

            .pic {
                display: flex;
                justify-content: center;
                align-items: flex-start;
                margin-top: 10px;
                margin-left: 10px;
                margin-right: 10px;
                background-color: #999;
                width: 100%;
                height: 150px;
            }

            .goods {
                margin: 10px;
                margin-bottom: 0;
                width: 100%;
                text-align: center;
                white-space: nowrap;
                text-overflow: ellipsis;
                overflow: hidden;
            }

            .price {
                margin: 10px;
                margin-bottom: 0;
                width: 100%;
                text-align: center;
                overflow: hidden;
                font-size: 1.2em;
            }

            /*CSS drop-down list*/
            /* @group Base */
            .chosen-container {
                grid-column: 2 / 5;
                position: relative;
                display: inline-block;
                vertical-align: middle;
                font-size: 1.2em;
                /*æ•´å€‹æ¬„ä½å…§çš„font-size*/
                -webkit-user-select: none;
                -moz-user-select: none;
                -ms-user-select: none;
                user-select: none;
            }

            .chosen-container * {
                -webkit-box-sizing: border-box;
                box-sizing: border-box;
            }

            .chosen-container .chosen-drop {
                position: absolute;
                top: 100%;
                z-index: 1000;
                width: 100%;
                border: 1px solid #aaa;
                /*ä¸‹æ‹‰é¸å–®é‚Šæ¡†*/
                border-top: 0;
                background: #ccc;
                /*ä¸‹æ‹‰é¸å–®è‰²å½©*/
                -webkit-box-shadow: 0 4px 5px rgba(0, 0, 0, 0.15);
                /*ä¸‹æ‹‰é¸å–®é™°å½±*/
                box-shadow: 0 4px 5px rgba(0, 0, 0, 0.15);
                /*ä¸‹æ‹‰é¸å–®é™°å½±*/
                clip: rect(0, 0, 0, 0);
                -webkit-clip-path: inset(100% 100%);
                clip-path: inset(100% 100%);
            }

            .chosen-container.chosen-with-drop .chosen-drop {
                clip: auto;
                -webkit-clip-path: none;
                clip-path: none;
            }

            .chosen-container a {
                cursor: pointer;
            }

            /* @end */
            /* @group Single Chosen */
            .chosen-container-single .chosen-single {
                /*é¸æ“‡æ¬„ä½*/
                position: relative;
                display: block;
                overflow: hidden;
                padding: 0 0 0 8px;
                height: 100%;
                /*!!!!!æ¬„ä½é«˜åº¦!!!!!!*/
                border: 1px solid #aaa;
                /*!!!!!æ¬„ä½é‚Šæ¡†!!!!!!*/
                border-radius: 5px;
                background-color: #fff;
                padding: 0.5em;
                background-clip: padding-box;
                color: #333;
                text-decoration: none;
                white-space: nowrap;
                line-height: 24px;
                /*é¸æ“‡æ¡†å…§å­—é«”é«˜åº¦*/
            }

            .chosen-container-single .chosen-default {
                color: #777;
                /*é¸æ“‡æ¡†å…§(placeholder)å­—é«”é¡è‰²*/
            }

            .chosen-container-single .chosen-single span {
                display: block;
                overflow: hidden;
                margin-right: 26px;
                text-overflow: ellipsis;
                white-space: nowrap;
            }

            .chosen-container-single .chosen-single div {
                position: absolute;
                top: 0;
                right: 0;
                display: block;
                height: 100%;
            }

            .chosen-container-single .chosen-single div b {
                display: block;
                width: 100%;
                height: 100%;
            }

            .chosen-container-single .chosen-search {
                position: relative;
                z-index: 1010;
                margin: 0;
                padding: 3px 4px;
                white-space: nowrap;
            }

            .chosen-container-single .chosen-search input[type="text"] {
                /*æœå°‹æ¡†*/
                margin: 1px 0;
                padding: 4px 20px 4px 5px;
                width: 100%;
                height: auto;
                outline: 0;
                border: 1px solid #aaa;
                font-size: 1em;
                line-height: normal;
                border-radius: 3px;
            }

            .chosen-container-single .chosen-drop {
                margin-top: -1px;
                border-radius: 0 0 4px 4px;
                background-clip: padding-box;
            }

            /* @group Results */
            .chosen-container .chosen-results {
                color: #333;
                /*é¸é …æ–‡å­—é¡è‰²*/
                position: relative;
                overflow-x: hidden;
                overflow-y: auto;
                margin: 0 4px 4px 0;
                padding: 0 0 0 4px;
                max-height: 10em;
                /*ä¸‹æ‹‰å¼é¸å–®æœ€å¤§é«˜åº¦*/
                -webkit-overflow-scrolling: touch;
            }

            .chosen-container .chosen-results li {
                display: none;
                margin: 0;
                padding: 5px 6px;
                list-style: none;
                line-height: 15px;
                /*é¸é …è¡Œé«˜*/
                word-wrap: break-word;
                /*é¸é …æ˜¯å¦åˆ†è¡Œ*/
                -webkit-touch-callout: none;
            }

            .chosen-container .chosen-results li.active-result {
                /*æœ‰æ•ˆé …ç›®*/
                display: list-item;
                cursor: pointer;
            }

            .chosen-container .chosen-results li.disabled-result {
                /*ç¦ç”¨é …ç›®*/
                display: list-item;
                color: #bbb;
                cursor: default;
            }

            .chosen-container .chosen-results li.highlighted {
                /*hoveringçš„é …ç›®*/
                background-color: #666;
                color: #fff;
            }

            .chosen-container .chosen-results li.no-results {
                /*æœå°‹ç„¡çµæœ*/
                color: #FFF;
                /*no-results color*/
                display: list-item;
                background: #EB7A77;
                /*no-results background*/
            }

            .chosen-container .chosen-results li em {
                /*åŒ¹é…å­—çœ¼*/
                font-style: normal;
                //text-decoration: underline;
                font-weight: 1000;
            }
            /*CSS drop-down list END*/

            /*validate*/
            .container .messages {
                display: flex;
                justify-content: center;
                text-align: center;
            }

            .row .messages {
                grid-column: 5 / 7;
            }

            .row .radio + .messages {
                grid-column: 2 / 7;
                margin-bottom: 5px;
            }

            .help-block.error { /*éŒ¯èª¤æç¤ºæ–‡å­—*/
                margin-left: 5px;
                color: #F00;
                font-size: 0.8em;
            }
            .has-success { /*æ­£ç¢ºæ¬„ä½*/
                background-color: #CFC;
            }
            .has-error { /*éŒ¯èª¤æ¬„ä½*/
                background-color: #FCC;
            }
        </style>

    </head>
    <body>
        <h1>æ¸¬è©¦ç”¨-è˜­é™½é€±é è³¼è¡¨å–®</h1>
        <span>æˆ‘åªæ˜¯å€‹ä»‹ç´¹æ–‡å­—</span>
        <form action="done.html" id="form" method="post" name="form" novalidate>
            <section id="info">
                <p class="title">è²·å®¶åŸºæœ¬è³‡æ–™</p>
                <div class="grid">
                    <div class="row">
                        <label for="name">å§“å</label>
                        <input autofocus="" class="infoIn" name="name" type="text" id="name" placeholder="ä½ çš„åå­—">
                        <div class="messages"></div>
                    </div>
                    <div class="row">
                        <label for="studentID">å­¸è™Ÿ</label>
                        <input class="infoIn" name="studentID" type="text" id="studentID" placeholder="ä½ çš„å­¸è™Ÿï¼Œä¾‹å¦‚">
                        <div class="messages"></div>
                    </div>
                    <div class="row">
                        <label for="department">ç³»ç´š</label>
                        <select data-placeholder="é¸æ“‡ç³»æ‰€" name="department" id="department" tabindex="-1" class="chosen-select">
                            <option value=""></option>
                            <!--ç³»æ‰€å€-->
                        </select>
                        <div class="messages"></div>
                    </div>
                    <div class="row">
                        <select data-placeholder="é¸æ“‡å¹´ç´š" name="grade" id="grade" tabindex="-1" class="chosen-select">
                            <option value=""></option>
                            <option value="1-ä¸€å¹´ç´š">ä¸€å¹´ç´š</option>
                            <option value="2-äºŒå¹´ç´š">äºŒå¹´ç´š</option>
                            <option value="3-ä¸‰å¹´ç´š">ä¸‰å¹´ç´š</option>
                            <option value="4-å››å¹´ç´š">å››å¹´ç´š</option>
                            <option value="5-äº”å¹´ç´š">äº”å¹´ç´š</option>
                            <option value="6-å…­å¹´ç´š">å…­å¹´ç´š</option>
                            <option value="7-ä¸ƒå¹´ç´š">ä¸ƒå¹´ç´š</option>
                        </select>
                        <div class="messages"></div>
                    </div>
                    <div class="row">
                        <label for="phoneNumber">è¯çµ¡æ‰‹æ©Ÿ</label>
                        <input class="infoIn" name="phoneNumber" type="text" id="phoneNumber" placeholder="æ‰‹æ©Ÿè™Ÿç¢¼ï¼Œä¾‹å¦‚">
                        <div class="messages"></div>
                    </div>
                    <div class="row">
                        <label for="email">è¯çµ¡ E-mail</label>
                        <input class="infoIn" name="email" type="text" id="email" placeholder="E-mailï¼Œä¾‹å¦‚">
                        <div class="messages"></div>
                    </div>
                    <div class="row">
                        <label>é è¨ˆ<br>å–è²¨æ—¥æœŸ</label>
                        <div class="radio">
                            <input name="date" type="radio" value="2020-5-6" id="d0506">
                            <label for="d0506">5æœˆ6æ—¥ï¼ˆä¸‰ï¼‰</label>
                            <input name="date" type="radio" value="2020-5-7" id="d0507">
                            <label for="d0507">5æœˆ7æ—¥ï¼ˆå››ï¼‰</label>
                        </div>
                        <div class="messages"></div>
                    </div>
                </div>
            </section>
            <!--å•†å“å€-->
        </form>
    </body>
</html>
